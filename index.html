<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Surat Rahasia ðŸ’Œ</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(270deg, #ffe6f0, #fce1ff, #d6f0ff, #ffe6cc);
      background-size: 800% 800%;
      animation: gradientBG 15s ease infinite;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      text-align: center;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .funny-text {
      font-size: 14px;
      font-weight: 500;
      color: #c6284f;
      background-color: #fff4f7;
      padding: 8px 16px;
      border-radius: 18px;
      margin-bottom: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
      font-style: italic;
      max-width: 360px;
    }

    .container {
      perspective: 1000px;
    }

    .envelope-wrapper {
      width: 320px;
      height: 200px;
      position: relative;
      transition: transform 1s;
      transform-style: preserve-3d;
    }

    .envelope-wrapper.open .envelope {
      transform: rotateY(180deg);
    }

    .envelope-wrapper.open .letter {
      transform: rotateY(0deg);
    }

    .envelope, .letter {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      backface-visibility: hidden;
      transition: transform 1s;
    }

    .envelope {
      background-color: #ffe0e9;
      background-image:
        linear-gradient(135deg, #ffb6c1, #ffe0e9),
        url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'><path d='M40 15 C42 10, 50 10, 50 20 C50 30, 40 35, 40 45 C40 35, 30 30, 30 20 C30 10, 38 10, 40 15 Z' fill='pink'/></svg>");
      background-repeat: repeat;
      background-size: 80px 80px;
      background-position: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: start;
      padding-top: 20px;
      transform: rotateY(0deg);
      z-index: 2;
    }

    .heart-icon {
      width: 80px;
      height: 80px;
      background-image: url('https://cdn-icons-png.flaticon.com/512/833/833472.png');
      background-size: cover;
      background-position: center;
      margin-bottom: 8px;
      animation: pulse 1.5s infinite ease-in-out;
      filter: drop-shadow(0 0 8px #ff69b4) drop-shadow(0 0 16px #ff69b4);
    }

    @keyframes pulse {
      0%   { transform: scale(1); }
      50%  { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    .open-btn {
      padding: 6px 20px;
      background: #fff;
      color: #d6336c;
      border: none;
      border-radius: 20px;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      z-index: 3;
    }

    .open-btn:hover {
      background-color: #ffe6ee;
    }

    .letter {
      background: white;
      padding: 15px 20px;
      transform: rotateY(-180deg);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      font-size: 14px;
      z-index: 1;
    }

    .scrollable-text {
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      max-height: 140px;
      white-space: pre-wrap;
      line-height: 1.6;
      margin-bottom: 10px;
      scrollbar-width: thin;
    }

    .scrollable-text::-webkit-scrollbar {
      width: 4px;
    }

    .scrollable-text::-webkit-scrollbar-thumb {
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 4px;
    }

    .close-btn {
      align-self: center;
      padding: 6px 16px;
      background-color: #f8d7da;
      color: #721c24;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
    }

    .close-btn:hover {
      background-color: #f5c6cb;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="envelope-wrapper" id="flipCard">
    <div class="envelope">
      <div class="heart-icon"></div>
      <button class="open-btn" onclick="openLetter()">Open</button>
    </div>

    <div class="letter">
      <div class="scrollable-text" id="typedText"></div>
      <button class="close-btn" onclick="closeLetter()">Close</button>
    </div>
  </div>
</div>

<audio id="bgMusic" src="akbarchalay_7513196925668134152.mp3" preload="auto"></audio>

<script>
  const flipCard = document.getElementById("flipCard");
  const typedText = document.getElementById("typedText");
  const bgMusic = document.getElementById("bgMusic");

  const message = `Ka Adel...

Aku tahu rasanya kayak kehilangan playlist favoritmu â€” tapi tenang, hidup masih punya lagu-lagu baru yang belum kamu dengar.

Tipe kamu mungkin lagi sibuk jadi figuran di cerita orang lain, tapi kamu? Kamu karakter utama di cerita sendiri.

Ini bukan tentang siapa yang pergi, tapi tentang siapa yang layak kamu pertahankan.

Jangan buru-buru jatuh, jangan juga tutup hati rapat-rapat. Jeda itu penting, tapi jangan berhenti.

Nanti kamu akan ketawa baca surat ini sambil bilang, 'Waktu itu gue beneran sesedih itu ya?'

Jadi sekarang, pelan-pelan aja. Nangis? Boleh. Tapi habis itu, cuci muka â€” karena kamu tetap keren walau lagi down.

Gas terus, jangan karena satu bab bikin kamu tutup bukunya.
SEMNAGAT TERUS YAAA KAA ADELL
LOVEE YOUU KAA ADELL.`;

  let typingInterval;

  function openLetter() {
    flipCard.classList.add("open");
    typedText.innerHTML = "";
    typeWriter(message, 0);
    bgMusic.currentTime = 0;
    bgMusic.play();
  }

  function closeLetter() {
    flipCard.classList.remove("open");
    clearTimeout(typingInterval);
    bgMusic.pause();
  }

  function typeWriter(text, i) {
    if (i < text.length) {
      typedText.innerHTML += text.charAt(i);
      typedText.scrollTop = typedText.scrollHeight;
      typingInterval = setTimeout(() => typeWriter(text, i + 1), 30);
    }
  }
</script>

</body>
</html>
